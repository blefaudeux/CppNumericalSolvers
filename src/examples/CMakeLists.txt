SET( EXAMPLE_FILES linearregression logisticregression rosenbrock )

set( CMAKE_RUNTIME_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR}/bin/examples )
foreach( currentfile ${EXAMPLE_FILES} )
	 add_executable( ${currentfile} "${currentfile}.cpp"  )
	 target_link_libraries (${currentfile} gtest gtest_main pthread)
endforeach( currentfile ${EXAMPLE_FILES} )

# file(GLOB EXAMPLE_FILES  *.cpp)
# set( CMAKE_RUNTIME_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR}/bin/examples )
# message (STATUS ${CMAKE_BINARY_DIR})
# foreach( currentfile ${EXAMPLE_FILES} )
#      string( REPLACE ".cpp" "" outname ${currentfile} )
#      string( REPLACE ${CMAKE_CURRENT_LIST_DIR} "" outname ${outname} )
#      string( REPLACE ${CMAKE_CURRENT_LIST_DIR} "" inname ${currentfile} )
#      string( REPLACE "/" "" outname ${outname} )
#      string( REPLACE "/" "" inname ${inname} )
#      message( STATUS ${inname})
# 	 add_executable( ${outname} ${inname}  )
# 	 target_link_libraries (${outname} gtest gtest_main pthread)
# endforeach( currentfile ${EXAMPLE_FILES} )